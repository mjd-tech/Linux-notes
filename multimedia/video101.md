# Video 101

- **container**: a file format such as mp4. Containers hold one or more
  **streams**
- **streams**: video; audio; subtitle
- **codecs**: audio and video streams are encoded with a codec. For
  example AAC (audio) H.264 (video)

## Codecs

- Responsible for generating/reading the video or audio data streams.
- One or more data streams, generated by one or more codecs, can be
  merged into a container.
- Codecs themselves are generally library files that get used by a media
  application.

Common Video Codecs:

- MPEG-2: old, high quality, large filesize, mostly found in a .mpg
  container
- MPEG-4 Part 2: Commonly used to encode videos for the web. Good
  quality at practical file sizes Encoders: DivX; XviD; Nero Digital.
  MPEG-4 Part 2 videos mostly come in an .AVI container, but .MP4 is
  also seen on rare occasions
- MPEG-4 Part 10 (H.264): superb quality at small file sizes, but slow
  to encode. Encoders: x264, Mainconcept, QuickTime. The videos mostly
  come in .MP4, .MKV or .MOV containers
- DV: Common format of Digital Video Cameras. High quality, large
  filesize. Compresses on frame by frame basis rather than relative to
  surrounding frames. Video is stored either as native DIF bitstream or
  wrapped into an audio/video container such as AVI, QuickTime and MXF.
- Theora is an open source codec by the Xiph.Org Foundation.
- VP6 is used in Flash 8 by Macromedia/Adobe.
- WMV: Windows Media Video: The first WMV 7 was introduced in 1999 and
  copies MPEG-4 Part 2. WMV 8 and 9 followed, with Microsoft releasing
  VC-1 as a standard in 2006, which is comparable to MPEG-4 Part 10. It
  is mostly found in Microsoft-specific environments, e.g. Silverlight
  and HD-DVDs (before Blu-ray took over).

Common Audio Codecs:

- MP3: MPEG-1 or MPEG-2 Audio Layer III. Old, decent quality, reasonable
  filesize. Near universal support.
- WMA: Windows Media Audio
- Vorbis: open source
- AAC: Advanced Audio Coding: Sucessor to MP3, higher quality
- AC-3: Dolby Digital format used on some DVDs
- PCM: Pulse Code Modualation: Uncompressed audio used on CDs
- FLAC: Open source Lossless compression

## Containers

- This is what you open up with your media player of choice.
- Responsible for synchronizing video and audio frames according to
  their Presentation Time Stamp (PTS).
- Takes care of adding information for streaming servers, if necessary,
  so that a streaming server knows when to send which part of the file.

Common Containers:

- AVI: Audio Video Interleave: written in 1992 and is still used today.
  No aspect ratio information. No good support for codecs that use
  predictive coding (like H.264)
- MP4: is also known as MPEG-4 Part 14 and is based on the QuickTime
  file format. This is the go-to format for H.264 video, but it also
  wraps MPEG-4 Part 2 and MPEG-2. It has the advantage of offering vast
  metadata information about a video, better and stable support for
  predictive coding (unlike AVI).Interestingly, this container might
  also wrap audio only, which is why you'll find so many .mp4 files
  which are no videos but rather AAC-encoded audio.
- M4V: Apple's version of MP4, but can include DRM.
- MKV: Matroska Video is an open sourced and free file format that is
  often found for H.264 files nowadays.
- Ogg: The Ogg container is the container of choice for the Theora video
  codec (and the Vorbis audio codec), also created by the Xiph.Org
  Foundation. It's also free and open source (just like the codec).
- FLV: The Flash video format was created by Adobe, for use in their
  streaming applications. FLV files can take VP6-encoded video (see
  above), or H.263 and H.264. These days you'll usually find H.264 in
  FLV files, which also means that you can change the container from MP4
  to FLV without the need to re-encode.

## Other codecs and formats

- Quicktime MOV: .mov is the file extension for the QuickTime File
  Format, which is a container created by Apple. It can carry all kinds
  of codecs.
- MPEG (1, 2, 3, 4): Standards defined by the Motion Picture Experts
  Group.
- WMV: Windows Media Video. It's actually a codec wrapped in an Advanced
  Systems Format container, which uses the .wmv extension again.
- FFmpeg: This is neither a codec nor a container. It is a library of
  video tools that also allow conversion between different codecs and
  containers.
- AVC: Synonym for MPEG-4 Part 10 or H.264.
- DivX: Another type of encoder for MPEG-4 Part 2 video.
- Xvid: One type of encoder for MPEG-4 Part 2 video. It's just the open
  source, free version of DivX, which of course led to some controversy.
- H.264: Synonym for MPEG-4 Part 10 or AVC.

## Subtitles

Three types:

### Hard

- Burned into the video stream.
- Cannot be turned off.
- Does not support multiple languages.
- Does not require special equipment or software to display.

### Pre-rendered

- Separate video frames overlaid on the original video stream.
- Text is encoded as images
- Used on DVD and Blu-ray
- Can be turned off
- Can have multiple language subtitles and switch among them.
- The player has to support such subtitles to display them.

### Soft

- Separate instructions, usually a specially marked up text with time
  stamps to be displayed during playback
- Can be a separate file, or a stream within the container.
- Can be turned off.
- Can have multiple language subtitles and switch among them.
- The player has to support such subtitles to display them.

## Frames

There are three types of pictures (or frames) used in video compression:
I‑frames, P‑frames and B‑frames. Most compression schemes work on the
principal that consecutive frames are usually quite similar.

- I‑frame is an 'Intra-coded picture', in effect a fully specified
  picture, like a conventional static image file.
- P‑frame ('Predicted picture') holds only the changes in the image from
  the previous frame.
- B‑frame ('Bi-predictive picture') uses differences between the current
  frame and both the preceding and following frames to specify its
  content.

When cutting, trimming, editing compressed video files such as mp4, you
need to make your cuts on I-frames (also called Keyframes or GOP
frames). Otherwise, you can end up with a few seconds of blank video, or
a still image, until the I-frame kicks in, then it is normal again.

## Resolution

Resolution is is usually quoted as **width × height**, with the units in
pixels. For example:

- "1024 × 768" means the width is 1024 pixels and the height is 768
  pixels.

Normally, the **height** is used to name the resolution, for example

- 720p refers to 1280 width x 720 height.
- For Ultra Hi-Defintion TV, ie. 4K and 8k, the **width** is used.

### Standard-definition television (SDTV)

| Name | Resolution | Aspect Ratio | Notes                                                                     |
|------|------------|--------------|---------------------------------------------------------------------------|
| 480i | 640×480    | 4:3          | NTSC compatible digital standard, two interlaced fields of 243 lines each |
| 576i | 768×576    | 4:3          | PAL compatible digital standard, two interlaced fields of 288 lines each  |

### High-definition television (HDTV)

| Name  | Resolution | Aspect Ratio | Notes                              |
|-------|------------|--------------|------------------------------------|
| 720p  | 1280×720   | 16:9         | progressive scan                   |
| 1080i | 1920×1080  | 16:9         | two interlaced fields of 540 lines |
| 1080p | 1920×1080  | 16:9         | progressive scan                   |

### Ultra-high-definition television (UHDTV)

| Name | Resolution | Aspect Ratio | Notes            |
|------|------------|--------------|------------------|
| 4K   | 3840×2160  | 16:9         | progressive scan |
| 8K   | 7680×4320  | 16:9         | progressive scan |
